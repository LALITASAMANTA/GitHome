<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    
    <title>SmartHome.com</title>
    <style src="styles.css">
        body {
           
            background: url('https://img.freepik.com/premium-photo/smart-home-living-room-with-patio-night_118124-340496.jpg') no-repeat center center fixed; /* Set your background image here */
            background-size: cover;
            margin: 0;
            padding: 0;
            color: #ffffff; /* White text color for contrast */
        }

        .device-card {
            display: none;
        }
        
        .device-card.active {
            display: block;
        }
        .container {
            max-width: 1000px;
            margin: 0 auto;
            background: rgba(0, 0, 0, 0.1); /* Semi-transparent background */
            border-radius: 15px;
            backdrop-filter: blur(10px);
            box-shadow: 0 0 30px rgba(0, 0, 0, 0.4);
            padding: 20px;
        }

        .top-bar-container {
            background: rgba(0, 0, 0, 0.3); /* Semi-transparent background */
            backdrop-filter: blur(10px);
            border-radius: 15px;
            padding: 15px;
            margin-bottom: 20px;
        }

        .top-bar {
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .home-info {
            display: flex;
            align-items: center;
        }

        .home-info img {
            width: 70px;
            height: 70px;
            margin-right: 10px;
            border-radius: 30%;
        }

        .title-section h4 {
            margin: 0;
            font-size: 24px;
            color: #ffffff; /* White text color */
        }

        .title-section p {
            margin: 0;
            font-size: 18px;
            color: #ebe7e7; /* Light gray text color */
        }

        .search-bar input {
            padding: 8px 15px;
            border-radius: 40px;
            border: none;
            background: rgba(247, 242, 242, 0.1); /* Slightly transparent background */
            color: #ffffff; /* White text color */
            width: 200px;
        }

        .weather {
            display: flex;
            align-items: center;
            font-size: 16px;
            color: #ffffff; /* White text color */
        }

        .weather span {
            margin-left: 10px;
        }

        .dashboard {
            display: flex;
        }

        .sidebar {
            background: rgba(0, 0, 0, 0.3); /* Semi-transparent background */
            backdrop-filter: blur(10px);
            border-radius: 15px;
            padding: 20px;
            margin-right: 20px;
            display: flex;
            flex-direction: column;
            align-items: center;
        }

        .sidebar-btn {
            width: 40px;
            height: 40px;
            background: rgba(255, 255, 255, 0.2); /* Slightly transparent background */
            border: none;
            border-radius: 50%;
            margin-bottom: 15px;
            display: flex;
            justify-content: center;
            align-items: center;
            font-size: 18px;
            color: #ffffff; /* White text color */
            cursor: pointer;
        }

        .sidebar-btn.active {
            background: rgba(124, 93, 232, 0.6); /* Semi-transparent active state */
            color: #ffffff; /* White text color */
        }

        
        .action-btn.active {
            background: rgba(124, 93, 232, 0.6); /* Semi-transparent active state */
            color: #ffffff; /* White text color */
        }

        .brightness-control, .color-control {
            margin-top: 20px;
        }

 
.card-header {
   
    align-items: left;
    margin-bottom: 8px;
}

.card-icon {
    width: 40px;
    height: 30px;
    margin-right: 8px;
}

.card-content {
    font-size: 1.2em;
    margin-bottom: 8px;
}

.card-slider {
    width: 100%;
}

.toggle-btn {
    background-color: #007bff;
    color: #745d5d;
    padding: 10px;
    border: none;
    border-radius: 5px;
    cursor: pointer;
}

.toggle-btn:hover {
    background-color: #0056b3;
}

/* Responsive Layout */
@media (max-width: 1024px) {
    .device-card {
        flex: 1 1 calc(40% - 15px); /* Two cards per row on smaller screens */
        /*max-width: calc(40% - 15px);*/
    }
}


@media (max-width: 768px) {
    .device-card {
        flex: 1 1 calc(100% - 15px); /* Full width on mobile */
       /* max-width: calc(100% - 15px); */
    }
}

        .bottom-bar {
            background: rgba(0, 0, 0, 0.3); /* Semi-transparent background */
            backdrop-filter: blur(10px);
            border-radius: 15px;
            padding: 10px;
            display: flex;
            justify-content: space-around;
            margin-top: 20px;
        }

      
        .room-btn, .add-room-btn {
            background: rgba(255, 255, 255, 0.2); /* Slightly transparent background */
            border: none;
            border-radius: 15px;
            padding: 8px 15px;
            font-size: 14px;
            color: #ffffff; /* White text color */
            cursor: pointer;
            text-decoration: none;
        }
        .room-btn:hover {
            background-color: #d0d0d0;
        }
        .room-btn.active {
            background-color: #262083;
            color: white;
        }
        .room-btn.active:hover {
            background-color: #2980b9;
        }
       
        .add-room-btn:hover {
            background-color: #27ae60;
        }

        .video-icon {
  width: 50px;  /* Set desired width */
  height: 50px; /* Set desired height */
  border-radius: 50%; /* Make it circular, if needed */
}

.icon-container {
  display: inline-block;
  /* Add any other styling like padding, margin, etc. */
}

        
/* Hover effect */
.room-btn:hover {
    background-color: #d0d0d0;
}

/* Active (clicked) state */
.room-btn:active {
    background-color: #3498db;
    color: white;
    transform: scale(0.95);
}


/* Hover effect for add room button */
.add-room-btn:hover {
    background-color: #27ae60;
}

/* Active (clicked) state for add room button */
.add-room-btn:active {
    background-color: #219a52;
    transform: scale(0.95);
}
      
.mainPanel {
            display: flex;
            flex-wrap: wrap;
            gap: 20px;
            margin: 20px;
            justify-content: flex-start;
           
           
           
        }

        .deviceCard {
          
           margin-right: 20%;
            align-items: center;
            width: 80px;
            touch-action: none;
  user-select: none;
  cursor: move;
  transition: transform 0.1s ease;
         

        }

        .card-icon {
            width: 60px;
            height: 60px;
            background: whitesmoke;
            border-radius: 15px;
            display: flex;
            justify-content: center;
            align-items: center;
            
        }

        .card-icon img {
            width: 40px;
            height: 40px;
        }

        .card-name {
            font-size: 12px;
            text-align: center;
            color: #ffffff;
        }

        .deviceCard.dragging {
  opacity: 0.8;
  z-index: 1000;
  transform: scale(1.05);
}

.thought-of-day {
    width: 100%;
    height: 12%;
    max-width: 800px;
    margin: 10px auto;
    text-align: center;
    font-style: italic;
    color: #ffffff;
    background-image: url('https://example.com/path-to-your-background-image.jpg');
    background-size: cover;
    background-position: center;
    padding: 10px 15px;
    box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
    border-radius: 15px;
    transition: all 0.3s ease;
    position: relative;
    overflow: hidden;
}

.thought-of-day::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background: rgba(0, 0, 0, 0.4);
    z-index: 1;
}

.thought-of-day:hover {
    transform: translateY(-5px);
    box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
    color: whitesmoke;
    background-color:  rgb(24, 97, 156);
}

.thought-of-day q {
    font-weight: bold;
    font-size:1em;
    position: relative;
    z-index: 2;
    display: block;
    margin-bottom: 8px;
}

.thought-of-day .author {
    display: block;
    margin-top: 5px;
    font-size: 0.8em;
    color: #e0e0e0;
    position: relative;
    z-index: 2;
}
        .events-section {
        margin-top: 10px;
        padding: 3px;
        background-color: #312e2e;
        border-radius: 3px;
    }

    .events-section h5 {
        margin-top: 0;
        font-size: 1.2em;
        color: whitesmoke;
    }

    #events-list {
        list-style-type: none;
        padding: 0;
        margin: 0;
        
    }

    #events-list li {
        margin-bottom: 5px;
        padding: 15px;
    border-radius: 8px;
    color: white;
    font-weight: bold;
    transition: transform 0.2s ease-in-out;
    }

#events-list li:hover {
    transform: scale(1.05);
}

.event-gradient-1 {
    background: linear-gradient(135deg, #ff6b6b, #feca57);
}

.event-gradient-2 {
    background: linear-gradient(135deg, #54a0ff, #5f27cd);
}

.event-gradient-3 {
    background: linear-gradient(135deg, #ff9ff3, #ff6b6b);
}

.event-gradient-4 {
    background: linear-gradient(135deg, #1dd1a1, #54a0ff);
}

.indian-event {
    background: linear-gradient(135deg, #ff9ff3, #feca57, #54a0ff) !important;
}

    .indian-event {
        font-weight: bold;
        color: #FF9933; /* Orange color from Indian flag */
    }
.search-bar {
    position: relative;
}

.search-results {
    position: absolute;
    top: 100%;
    left: 0;
    right: 0;
    background: white;
    border: 1px solid #333;
    border-top: none;
    max-height: 200px;
    overflow-y: auto;
    z-index: 1000;
    color: #333;
}

.search-results ul {
    list-style: none;
    padding: 0;
    margin: 0;
}

.search-results li {
    padding: 10px;
    cursor: pointer;
}

.search-results li:hover {
    background-color: rgba(124, 93, 232, 0.4);
}
    </style>
</head>
<body id="dashboard">
    <div class="container">
        <main>
            <div class="top-bar-container">
                <div class="top-bar">
                    <div class="home-info">
                        <img src="https://images.thecompanycheck.com/companylogo/SIMS_HEALTH_CARE_PRIVATE_LIMITED.webp" alt="Beta SIMS Logo" class="company-logo">
                        <div class="title-section">
                            <h4>Sims SynergyHome</h4>
                            <p>Optimize Energy, Enhance Comfort</p>
                        </div>
                    </div>
                    <div class="search-bar">
                        <input type="text" placeholder="Video Doorbell...">
                    </div>
                    <div class="weather">
                        <span>24Â°/17Â°</span>
                        <span>Temperature Outside</span>
                        <span class="weather-icon">ðŸŒ¤</span>
                    </div>
                    <div class="room-weather">
                        <span id="room-temp">22Â°</span>
                        <span>Room</span>
                    </div>
                    <div class="humidity">
                        <span id="humidity">45%</span>
                        <span>Humidity</span>
                    </div>
                      <!-- New Events Section -->
       
                </div>
                <div class="events-section">
                    <h5>Today's Events</h5>
                    <ul id="events-list">
                        <!-- Events will be dynamically added here -->
                    </ul>
                </div>
            </div>
            <div class="dashboard">
                <div class="sidebar">
                    <button class="sidebar-btn active"><img src="C:\Users\ADMIN\Downloads\Icon-20.png"></button>
                   
                      
                    <button class="sidebar-btn"><img src="c:\Users\ADMIN\Downloads\fan.svg"></button>
                    <button class="sidebar-btn"><img src="c:\Users\ADMIN\Downloads\fan.svg"></button>
                    <button class="sidebar-btn"><img src="c:\Users\ADMIN\Downloads\fan.svg"></button>
                    <button class="sidebar-btn"><img src="c:\Users\ADMIN\Downloads\fan.svg"></button>
                    <button class="sidebar-btn"><img src="C:\Users\ADMIN\Downloads\Icon-20.png"></button>
                   
                      
                    <button class="sidebar-btn"><img src="c:\Users\ADMIN\Downloads\fan.svg"></button>
                    <button class="sidebar-btn"><img src="c:\Users\ADMIN\Downloads\fan.svg"></button>
                    <button class="sidebar-btn"><img src="c:\Users\ADMIN\Downloads\fan.svg"></button>
                    <button class="sidebar-btn"><img src="c:\Users\ADMIN\Downloads\fan.svg"></button>
                    <button class="sidebar-btn"><img src="c:\Users\ADMIN\Downloads\fan.svg"></button>
                    <button class="sidebar-btn"><img src="c:\Users\ADMIN\Downloads\fan.svg"></button>
                    <button class="sidebar-btn"><img src="c:\Users\ADMIN\Downloads\fan.svg"></button>

                    <button class="sidebar-btn"><img src=""></button>
                    <button class="sidebar-btn"><img src=""></button>
                    <button class="sidebar-btn"><img src=""></button>
                </div>
                <div class="mainPanel" id="card" id="deviceContainer">
                    <div class="deviceCard" data-device="ac" style="right: 50px; top: 50px;">
                        <a href="device.html?device=ac" class="device-link">
                            <div class="card-icon" style="background-image: linear-gradient(45deg, #FAD0C4, #FFD1FF);">
                                <img src="C:\Users\ADMIN\Desktop\gud\images\ac.png" alt="Air Conditioner" style="color: lightblue;" />
                            </div>
                            <span class="card-name">AC</span>
                        </a>
                    </div>
                    
                    <div class="deviceCard" data-device="smart-lights" style="right: 50px; top: 50px;">
                        <a href="device.html?device=smart-lights" class="device-link">
                            <div class="card-icon" style="background-image: linear-gradient(45deg, #D4FC79, #96E6A1);">
                                <img src="C:\Users\ADMIN\Desktop\gud\images\bulb.png" alt="Smart Lights" style="color: #FFC107;" />
                            </div>
                            <span class="card-name">Smart Lights</span>
                        </a>
                    </div>
                    
                    <div class="deviceCard" data-device="fans" style="right: 50px; top: 50px;">
                        <a href="device.html?device=fans" class="device-link">
                        <div class="card-icon" style="background-image: linear-gradient(45deg, #FFE29F, #FFA99F);">
                            <img src="C:\Users\ADMIN\Desktop\gud\images\fan.png" alt="Fans" style="color: #FFEB3B;" />
                        </div>
                        <span class="card-name">Fans</span>
                        </a>
                    </div>
                    
                    <div class="deviceCard" data-device="smart-tv" style="right: 50px; top: 50px;">
                        <a href="device.html?device=smart-tv" class="device-link">
                            <div class="card-icon" style="background-image: linear-gradient(45deg, #C8E6C9, #B2EBF2);">
                                <img src="C:\Users\ADMIN\Desktop\gud\images\tv.png" alt="Smart TV" style="color: #0000FF;" />
                            </div>
                            <span class="card-name">Smart TV</span>
                        </a>
                    </div>
                    
                    <div class="deviceCard" data-device="geyser" style="right: 50px; top: 50px;">
                        <a href="device.html?device=geyser" class="device-link">
                            <div class="card-icon" style="background-image: linear-gradient(45deg, #FFE985, #FA742B);">
                                <img src="C:\Users\ADMIN\Desktop\gud\images\geyser.png" alt="Geyser" style="color: #FF5722;" />
                            </div>
                            <span class="card-name">Geyser</span>
                        </a>
                    </div>
                    
                    <div class="deviceCard" data-device="drip-systems" style="right: 50px; top: 50px;">
                        <a href="device.html?device=drip-systems" class="device-link">
                            <div class="card-icon" style="background-image: linear-gradient(45deg, #A1C4FD, #C2E9FB);">
                                <img src="images/irrigation-system.png" alt="Drip Systems" />
                            </div>
                            <span class="card-name">Drip Systems</span>
                        </a>
                    </div>
                    <div class="deviceCard" data-device="sprinklers" style="right: 50px; top: 50px;">
                        <a href="device.html?device=sprinklers" class="device-link">
                            <div class="card-icon" style="background-image: linear-gradient(45deg, #f7b37c, #BBDEFB);">
                                <img src="C:\Users\ADMIN\Desktop\gud\images\sprinklers.png" alt="Sprinklers" style="color: #2196F3;" />
                            </div>
                            <span class="card-name">Sprinklers</span>
                        </a>
                    </div>
                    
                    <div class="deviceCard" data-device="terrace-garden" style="right: 50px; top: 50px;">
                        <a href="device.html?device=terrace-garden" class="device-link">
                            <div class="card-icon" style="background-image: linear-gradient(45deg, #E6EE9C, #CDDC39);">
                                <img src="C:\Users\ADMIN\Desktop\gud\images\building.png" alt="Terrace Garden" style="color: #CDDC39;" />
                            </div>
                            <span class="card-name">Terrace Garden</span>
                        </a>
                    </div>
                    
                    <div class="deviceCard" data-device="water-tank" style="right: 50px; top: 50px;">
                        <a href="device.html?device=water-tank" class="device-link">
                            <div class="card-icon" style="background-image: linear-gradient(45deg, #d2dadd, #e1e3e9);">
                                <img src="c:\Users\ADMIN\Downloads\rainwater-tank.png" alt="Water Tank" style="color: #00BCD4;" />
                            </div>
                            <span class="card-name">Water Tanks</span>
                        </a>
                    </div>
                    
                    <div class="deviceCard" data-device="water-sumps" style="right: 50px; top: 50px;">
                        <a href="device.html?device=water-sumps" class="device-link">
                            <div class="card-icon" style="background-image: linear-gradient(45deg, #F3E5F5, #E1BEE7);">
                                <img src="C:\Users\ADMIN\Desktop\gud\images\underground-tank.png" alt="Water Sumps" style="color: #9C27B0;" />
                            </div>
                            <span class="card-name">Water Sumps</span>
                        </a>
                    </div>
                    
                    <div class="deviceCard" data-device="electric-motor" style="right: 50px; top: 50px;">
                        <a href="device.html?device=electric-motor" class="device-link">
                            <div class="card-icon" style="background-image: linear-gradient(45deg, #FFCDD2, #EF9A9A);">
                                <img src="C:\Users\ADMIN\Desktop\gud\images\motor.png" alt="Electric Motor" style="color: #F44336;" />
                            </div>
                            <span class="card-name">Electric Motor</span>
                        </a>
                    </div>
                    
                    <div class="deviceCard" data-device="plant-management" style="right: 50px; top: 50px;">
                        <a href="device.html?device=plant-management" class="device-link">
                            <div class="card-icon" style="background-image: linear-gradient(45deg, #A1FFCE, #51b90c);">
                                <img src="C:\Users\ADMIN\Desktop\gud\images\Girl watering plant (1).gif" alt="Plant Management" style="color: #8BC34A;" />
                            </div>
                            <span class="card-name">Plant Management</span>
                        </a>
                    </div>
                    
                    <div class="deviceCard" data-device="high-voltage-management" style="right: 50px; top: 50px;">
                        <a href="device.html?device=high-voltage-management" class="device-link">
                            <div class="card-icon" style="background-image: linear-gradient(45deg, #FFF9C4, #FFF176);">
                                <img src="C:\Users\ADMIN\Desktop\gud\images\Electrification Warning.gif" alt="High Voltage Management" style="color: #FFEB3B;" />
                            </div>
                            <span class="card-name">High Voltage Management</span>
                        </a>
                    </div>
                    
                    
                    <div class="thought-of-day">   
                        <h3>Thought of a Day.....!!!</h3>
                        <q id="quote"></q>
                        <span id="author"></span>
                        
                    </div>
                    
                </div>
                
            </div>
            <div class="bottom-bar">
                <a href="Dashboard.html" class="room-btn active" data-page="smarthome">Dashboard</a>
                <a href="smarthome.html" class="room-btn" data-page="smarthome">Living Room</a>
                <a href="kitchen.html" class="room-btn" data-page="kitchen">Bathroom</a>
              
                <a href="garden.html" class="room-btn" data-page="garden">Garden</a>
                <a href="utility.html" class="room-btn" data-page="utility">Utility</a>
                <button class="add-room-btn">+</button>
            </div>
        </main>
    </div>

   
    <script src="https://kit.fontawesome.com/a076d05399.js" crossorigin="anonymous"></script>
    <script src="devices.js"></script>
  
    <script src="main.js"></script>

    <script>
       document.addEventListener('DOMContentLoaded', function() {
   

    // Thought of the Day functionality
    const quotes = [
        { text: "The only way to do great work is to love what you do.", author: "Steve Jobs" },
        { text: "Innovation distinguishes between a leader and a follower.", author: "Steve Jobs" },
        { text: "The future belongs to those who believe in the beauty of their dreams.", author: "Eleanor Roosevelt" },
        { text: "Success is not final, failure is not fatal: it is the courage to continue that counts.", author: "Winston Churchill" },
        { text: "The only limit to our realization of tomorrow will be our doubts of today.", author: "Franklin D. Roosevelt" },
        { text: "Strive not to be a success, but rather to be of value.", author: "Albert Einstein" },
        { text: "The best way to predict the future is to create it.", author: "Peter Drucker" },
        { text: "Your time is limited, don't waste it living someone else's life.", author: "Steve Jobs" },
        { text: "Believe you can and you're halfway there.", author: "Theodore Roosevelt" },
        { text: "The journey of a thousand miles begins with one step.", author: "Lao Tzu" }
    ];

    function newQuote() {
        const randomNumber = Math.floor(Math.random() * quotes.length);
        document.getElementById('quote').textContent = quotes[randomNumber].text;
        document.getElementById('author').textContent = "- " + quotes[randomNumber].author;
    }

    // Display a new quote when the page loads
    newQuote();

      // Search functionality
      const searchInput = document.querySelector('.search-bar input');
    const searchResultsContainer = document.createElement('div');
    searchResultsContainer.className = 'search-results';
    searchInput.parentNode.appendChild(searchResultsContainer);

    // Room and device data (as shown above)
    const roomsAndDevices = [
    { 
        id: 1, 
        name: "Living Room", 
        devices: [
            { name: "Fans", url: "C:/Users/ADMIN/Desktop/gud/smarthome.html" },
            { name: "Smart Lights", url: "C:/Users/ADMIN/Desktop/gud/smarthome.html" },
            { name: "AC", url: "C:/Users/ADMIN/Desktop/gud/smarthome.html" },
            { name: "Smart Tv", url: "C:/Users/ADMIN/Desktop/gud/smarthome.html" },
        ]
    },
    { 
        id: 2, 
        name: "Bathroom", 
        devices: [
            { name: "Geyser", url: "file:///C:/Users/ADMIN/Desktop/gud/kitchen.html" },
            { name: "Smart Speaker", url: "file:///C:/Users/ADMIN/Desktop/gud/kitchen.html" }
        ]
    },
    { 
        id: 3, 
        name: "Garden", 
        devices: [
            { name: "Drip Irrigation", url: "file:///C:/Users/ADMIN/Desktop/gud/garden.html" },
            { name: "Smart Sprinkler", url: "file:///C:/Users/ADMIN/Desktop/gud/garden.html" },
            { name: "Terrace Garden",     url: "file:///C:/Users/ADMIN/Desktop/gud/garden.html" }
        ]
    },
    { 
        id: 4, 
        name: "Utility", 
        devices: [
            { name: "Water Tank", url: "file:///C:/Users/ADMIN/Desktop/gud/utility.html" },
            { name: "Water Motor", url: "file:///C:/Users/ADMIN/Desktop/gud/utility.html" },
            { name: "Water sumps", url: "file:///C:/Users/ADMIN/Desktop/gud/utility.html" },
            { name: "RainWater Harvesting", url: "file:///C:/Users/ADMIN/Desktop/gud/utility.html" },
            { name: "High Voltage Management", url: "file:///C:/Users/ADMIN/Desktop/gud/utility.html" }
        ]
    },
];

    searchInput.addEventListener('input', handleSearch);
    searchInput.addEventListener('keypress', function(e) {
        if (e.key === 'Enter') {
            const firstResult = searchResultsContainer.querySelector('li');
            if (firstResult) {
                firstResult.click();
            }
        }
    });

    function handleSearch() {
        const searchTerm = searchInput.value.toLowerCase().trim();
        if (searchTerm.length === 0) {
            searchResultsContainer.innerHTML = '';
            return;
        }

        const results = searchDevices(searchTerm);
        displayResults(results);
    }

    // Include the updated searchDevices, displayResults, and navigateToDevice functions here



    function searchDevices(searchTerm) {
    const results = [];
    roomsAndDevices.forEach(room => {
        const matchedDevices = room.devices.filter(device => 
            device.name.toLowerCase().includes(searchTerm)
        );
        if (matchedDevices.length > 0) {
            results.push({
                room: room.name,
                devices: matchedDevices
            });
        }
    });
    return results;
}

function displayResults(results) {
    searchResultsContainer.innerHTML = '';
    if (results.length === 0) {
        searchResultsContainer.innerHTML = '<p>No devices found</p>';
        return;
    }

    const ul = document.createElement('ul');
    results.forEach(result => {
        result.devices.forEach(device => {
            const li = document.createElement('li');
            li.innerHTML = `<strong>${device.name}</strong> in ${result.room}`;
            li.addEventListener('click', () => {
                navigateToDevice(device.url);
            });
            ul.appendChild(li);
        });
    });

    searchResultsContainer.appendChild(ul);
}

function navigateToDevice(url) {
    console.log(`Navigating to ${url}`);
    window.location.href = url;
}



    // Room button functionality
    const roomButtons = document.querySelectorAll('.room-btn');
    roomButtons.forEach(btn => {
        btn.addEventListener('click', (e) => {
            e.preventDefault(); // Prevent default link behavior
            const href = btn.getAttribute('href');
            window.location.href = href;
        });
    });
});
      
// Drag and Drop functionality
const mainPanel = document.querySelector('.mainPanel');
const deviceCards = document.querySelectorAll('.deviceCard');


let isDragging = false;
let currentX;
let currentY;
let initialX;
let initialY;
let xOffset = 0;
let yOffset = 0;
let dragItem = null;

// Get the current room from the body id
const currentRoom = document.body.id;

function dragStart(e) {
    if (e.type === "touchstart") {
        initialX = e.touches[0].clientX - xOffset;
        initialY = e.touches[0].clientY - yOffset;
    } else {
        initialX = e.clientX - xOffset;
        initialY = e.clientY - yOffset;
    }

    dragItem = e.target.closest('.deviceCard');
    if (dragItem) {
        isDragging = true;
        dragItem.style.zIndex = 1000;
        dragItem.classList.add('dragging');
    }
}

function dragEnd(e) {
    if (!isDragging) return;

    isDragging = false;
    
    if (dragItem) {
        const droppedOnRoom = checkDropZone(e);
        if (droppedOnRoom && droppedOnRoom !== currentRoom) {
            moveToRoom(dragItem, droppedOnRoom);
        } else {
            updateIconPosition(dragItem);
        }

        dragItem.style.zIndex = 1;
        dragItem.classList.remove('dragging');
        dragItem = null;
    }

    initialX = currentX;
    initialY = currentY;
}

function drag(e) {
    if (isDragging) {
        e.preventDefault();
        if (e.type === "touchmove") {
            currentX = e.touches[0].clientX - initialX;
            currentY = e.touches[0].clientY - initialY;
        } else {
            currentX = e.clientX - initialX;
            currentY = e.clientY - initialY;
        }

        xOffset = currentX;
        yOffset = currentY;

        setTranslate(currentX, currentY, dragItem);
    }
}

function setTranslate(xPos, yPos, el) {
    el.style.transform = `translate3d(${xPos}px, ${yPos}px, 0)`;
}


let roomButtons;

function initializeRoomButtons() {
    roomButtons = document.querySelectorAll('.room-btn');
}

// Modify the existing loadIcons function
function loadIcons() {
    const icons = JSON.parse(localStorage.getItem(currentRoom) || '[]');
    icons.forEach(iconData => {
        const icon = createIcon(iconData);
        icon.style.position = 'absolute';
        icon.style.left = `${iconData.x}px`;
        icon.style.top = `${iconData.y}px`;
        mainPanel.appendChild(icon);
    });
    initializeRoomButtons(); // Initialize room buttons after loading icons
}

function checkDropZone(e) {
    if (!roomButtons) {
        console.warn('Room buttons not initialized');
        return null;
    }

    const mouseX = e.clientX || e.touches[0].clientX;
    const mouseY = e.clientY || e.touches[0].clientY;

    for (const button of roomButtons) {
        const rect = button.getBoundingClientRect();
        if (mouseX >= rect.left && mouseX <= rect.right &&
            mouseY >= rect.top && mouseY <= rect.bottom) {
            return button.dataset.page;
        }
    }
    return null;
}


function moveToRoom(icon, roomPage) {
    const iconData = {
        id: icon.id,
        type: icon.dataset.type,
        x: icon.offsetLeft,
        y: icon.offsetTop
    };
    
    let roomIcons = JSON.parse(localStorage.getItem(roomPage) || '[]');
    roomIcons.push(iconData);
    localStorage.setItem(roomPage, JSON.stringify(roomIcons));

    // Remove the icon from the current room's data
    let currentRoomIcons = JSON.parse(localStorage.getItem(currentRoom) || '[]');
    currentRoomIcons = currentRoomIcons.filter(item => item.id !== icon.id);
    localStorage.setItem(currentRoom, JSON.stringify(currentRoomIcons));

    // Remove the icon from the current page
    icon.remove();

    // Redirect to the new room page
    window.location.href = roomPage + '.html';
}

function updateIconPosition(icon) {
    let roomIcons = JSON.parse(localStorage.getItem(currentRoom) || '[]');
    const iconIndex = roomIcons.findIndex(item => item.id === icon.id);
    
    if (iconIndex !== -1) {
        roomIcons[iconIndex].x = icon.offsetLeft;
        roomIcons[iconIndex].y = icon.offsetTop;
    } else {
        roomIcons.push({
            id: icon.id,
            type: icon.dataset.type,
            x: icon.offsetLeft,
            y: icon.offsetTop
        });
    }
    
    localStorage.setItem(currentRoom, JSON.stringify(roomIcons));
}


function createIcon(iconData) {
    const icon = document.createElement('div');
    icon.id = iconData.id;
    icon.className = 'deviceCard';
    icon.dataset.type = iconData.type;
    // Set other properties and content of the icon
    return icon;
}

// Initialize drag for all device cards
function initializeDragAndDrop() {
    const deviceCards = document.querySelectorAll('.deviceCard');
    deviceCards.forEach(card => {
        card.addEventListener('mousedown', dragStart, { passive: false });
        card.addEventListener('mouseup', dragEnd, { passive: false });
        card.addEventListener('mousemove', drag, { passive: false });

        card.addEventListener('touchstart', dragStart, { passive: true });
        card.addEventListener('touchend', dragEnd, { passive: true });
        card.addEventListener('touchmove', drag, { passive: false });
    });
}

// Add event listeners to the document
document.addEventListener('mousemove', drag, { passive: false });
document.addEventListener('mouseup', dragEnd, { passive: false });
document.addEventListener('touchmove', drag, { passive: false });
document.addEventListener('touchend', dragEnd, { passive: true });

// Add keyboard navigation
document.addEventListener('keydown', (e) => {
    if (dragItem) {
        const step = 10; // Pixels to move per key press
        switch (e.key) {
            case 'ArrowUp':
                yOffset -= step;
                break;
            case 'ArrowDown':
                yOffset += step;
                break;
            case 'ArrowLeft':
                xOffset -= step;
                break;
            case 'ArrowRight':
                xOffset += step;
                break;
        }
        setTranslate(xOffset, yOffset, dragItem);
        updateIconPosition(dragItem);
    }
});


// Initialize the page
window.addEventListener('load', () => {
    loadIcons();
    initializeDragAndDrop();
    initializeRoomButtons(); // Ensure room buttons are initialized on page load
});


      // Function to add events with gradient colors
function addEvent(date, event, isIndian = false) {
    const eventsList = document.getElementById('events-list');
    const listItem = document.createElement('li');
    listItem.textContent = `${date}: ${event}`;
    
    if (isIndian) {
        listItem.classList.add('indian-event');
    } else {
        const gradientClass = `event-gradient-${Math.floor(Math.random() * 4) + 1}`;
        listItem.classList.add(gradientClass);
    }
    
    eventsList.appendChild(listItem);
}


// Function to get events for a specific date
function getEventsForDate(date) {
    const events = [];
    const year = date.getFullYear();
    const month = date.getMonth();
    const day = date.getDate();

    // Check for specific dates
    if (month === 7 && day === 14) { // August 14
        events.push({ event: "Independence Day (Pakistan)", isIndian: false });
    }
    if (month === 7 && day === 15) { // August 15
        events.push({ event: "Independence Day (India)", isIndian: true });
    }

    // Check for nth day of the month
    const nthDayOfMonth = Math.floor((day - 1) / 7) + 1;
    const dayOfWeek = date.getDay();

    // Third Monday of January
    if (month === 0 && nthDayOfMonth === 3 && dayOfWeek === 1) {
        events.push({ event: "Martin Luther King Jr. Day", isIndian: false });
    }

    // Last Monday of May
    if (month === 4 && nthDayOfMonth === 5 && dayOfWeek === 1) {
        events.push({ event: "Memorial Day", isIndian: false });
    }

    // Check for other types of events (e.g., first day of seasons)
    // First day of spring (approximately March 20)
    if (month === 2 && day === 20) {
        events.push({ event: "First Day of Spring", isIndian: false });
    }

    // Add more event checks as needed

    return events;
}

// Function to display events for the current date
function displayTodayEvents() {
    const today = new Date();
    const todayEvents = getEventsForDate(today);

    if (todayEvents.length > 0) {
        todayEvents.forEach(event => {
            const formattedDate = today.toLocaleDateString('en-US', { month: 'short', day: 'numeric', year: 'numeric' });
            addEvent(formattedDate, event.event, event.isIndian);
        });
    } else {
        const formattedDate = today.toLocaleDateString('en-US', { month: 'short', day: 'numeric', year: 'numeric' });
        addEvent(formattedDate, 'No notable events today');
    }
}

// Call the function when the page loads
window.addEventListener('load', displayTodayEvents);



            // Action buttons
            const actionButtons = document.querySelectorAll('.action-btn');

            actionButtons.forEach(btn => {
                btn.addEventListener('click', () => {
                    actionButtons.forEach(b => b.classList.remove('active'));
                    btn.classList.add('active');
                });
            });

           



// Listen for page changes (e.g., when using browser back/forward buttons)
window.addEventListener('popstate', () => setActiveButton());



            // Room button functionality
          


            document.addEventListener('DOMContentLoaded', function() {
    const searchInput = document.getElementById('room-search');
    const roomIcons = document.querySelectorAll('.room-icon'); // Assuming you have room icons with this class

    searchInput.addEventListener('input', function() {
        const searchTerm = this.value.toLowerCase();
        roomIcons.forEach(icon => {
            const roomName = icon.getAttribute('data-room').toLowerCase();
            if (roomName.includes(searchTerm)) {
                icon.style.display = 'block';
            } else {
                icon.style.display = 'none';
            }
        });
    });

    // Function to update weather information
    function updateWeather() {
        // This is where you'd typically fetch real-time data from an API
        const outsideTemp = Math.floor(Math.random() * (30 - 15 + 1)) + 15;
        const roomTemp = Math.floor(Math.random() * (25 - 18 + 1)) + 18;
        const humidity = Math.floor(Math.random() * (60 - 30 + 1)) + 30;

        document.getElementById('outside-temp').textContent = `${outsideTemp}Â°/${outsideTemp - 5}Â°`;
        document.getElementById('room-temp').textContent = `${roomTemp}Â°`;
        document.getElementById('humidity').textContent = `${humidity}%`;
    }

    // Update weather every 5 minutes
    updateWeather();
    setInterval(updateWeather, 300000);

});

dragElement(document.getElementById("card"));

function dragElement(elmnt) {
  var pos1 = 0, pos2 = 0, pos3 = 0, pos4 = 0;
  if (document.getElementById(elmnt.id + "device-card")) {
    /* if present, the header is where you move the DIV from:*/
    document.getElementById(elmnt.id + "device-card").onmousedown = dragMouseDown;
  } else {
    /* otherwise, move the DIV from anywhere inside the DIV:*/
    elmnt.onmousedown = dragMouseDown;
  }

  function dragMouseDown(e) {
    e = e || window.event;
    e.preventDefault();
    // get the mouse cursor position at startup:
    pos3 = e.clientX;
    pos4 = e.clientY;
    document.onmouseup = closeDragElement;
    // call a function whenever the cursor moves:
    document.onmousemove = elementDrag;
  }

  function elementDrag(e) {
    e = e || window.event;
    e.preventDefault();
    // calculate the new cursor position:
    pos1 = pos3 - e.clientX;
    pos2 = pos4 - e.clientY;
    pos3 = e.clientX;
    pos4 = e.clientY;
    // set the element's new position:
    elmnt.style.top = (elmnt.offsetTop - pos2) + "px";
    elmnt.style.left = (elmnt.offsetLeft - pos1) + "px";
  }

  function closeDragElement() {
    /* stop moving when mouse button is released:*/
    document.onmouseup = null;
    document.onmousemove = null;
  }
}

            // Initialize drag functionality for the card element
            const cardElement = document.getElementById("card");
            if (cardElement) {
                dragElement(cardElement);
            }
       

        // Ensure quote is updated when the page fully loads
        window.onload = function() {
            if (typeof updateQuote === 'function') {
                updateQuote();
            }
        };

        document.addEventListener('DOMContentLoaded', function() {
            var selectedDevices = [];

            var deviceCards = document.querySelectorAll('.deviceCard');
            deviceCards.forEach(function(card) {
                card.addEventListener('click', function(e) {
                    e.preventDefault();
                    var device = this.getAttribute('data-device');
                    if (!selectedDevices.includes(device)) {
                        selectedDevices.push(device);
                    }
                    updateSelectedDevices();
                });
            });

            function updateSelectedDevices() {
                var url = 'selected_devices.html?devices=' + selectedDevices.join(',');
                window.location.href = url;
            }
        });


   //search...
         //window.location.href = `${room.toLowerCase().replace(' ', '-')}.html#${device.toLowerCase().replace(' ', '-')}`;
   
    </script>
    
</body>
</html>